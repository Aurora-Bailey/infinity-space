import{w as H,h as A,x as L,E as O,H as Y,y as q,z as v,A as B,B as S,C as h,D as N,F as R,U as C,G as U,I as w,e as z,u as G,J,S as M}from"./DhS4ZT9p.js";function Z(a,c,[r,s]=[0,0]){A&&r===0&&L();var i=a,f=null,l=null,u=C,k=r>0?O:0,n=!1;const D=(T,t=!0)=>{n=!0,E(t,T)},E=(T,t)=>{if(u===(u=T))return;let e=!1;if(A&&s!==-1){if(r===0){const I=i.data;I===Y?s=0:I===q?s=1/0:(s=parseInt(I.substring(1)),s!==s&&(s=u?1/0:-1))}const F=s>r;!!u===F&&(i=v(),B(i),S(!1),e=!0,s=-1)}u?(f?h(f):t&&(f=N(()=>t(i))),l&&R(l,()=>{l=null})):(l?h(l):t&&(l=N(()=>t(i,[r+1,s]))),f&&R(f,()=>{f=null})),e&&S(!0)};H(()=>{n=!1,c(D),n||E(null,null)},k),A&&(i=U)}function b(a,c){return a===c||(a==null?void 0:a[M])===c}function j(a={},c,r,s){return w(()=>{var i,f;return z(()=>{i=f,f=(s==null?void 0:s())||[],G(()=>{a!==r(...f)&&(c(a,...f),i&&b(r(...i),a)&&c(null,...i))})}),()=>{J(()=>{f&&b(r(...f),a)&&c(null,...f)})}}),a}export{j as b,Z as i};
